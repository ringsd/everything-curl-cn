# 修改请求目标

当输入 URL 时，例如 `http://example.com/file`， URL 的路径部分被提取出去，并在 HTTP 请求行中转换为 `/file`。
该项在 HTTP 协议中被称为*请求目标*。也就是此请求将与之交互的资源。通常，这个请求目标是从 URL 中提取出来的，然后在请求中使用，作为一个用户，您不需要考虑它。

在某些罕见的情况下，用户可能希望发挥创造性，以 URL 不允许的方式更改此请求目标。
例如，HTTP OPTIONS 方法有一个专门为此定义的请求目标，它使用 `*` 来实现这一点，这个时候 OPTIONS 请求将应用于服务器，而不是某个指定资源。是的，只有一个星号。无法为此指定 URL，因此，如果要将请求目标中的单个星号传递给服务器（如 OPTIONS 请求），则必须按如下方式执行：

    curl -X OPTIONS --request-target "*" http://example.com/

该示例命令行使传出HTTP请求的第一行如下所示（/ 变为 *）：

    OPTIONS * HTTP/1.1

## --path-as-is

URL 的路径部分是以主机名后的第一个斜杠开始，以URL结尾或以'？'结尾的部分或者'#'（粗略地说）。

如果路径中的包括 `/../` 或 `/./` 这样的子串，curl 会在将路径发送到服务器之前处理它们，处理方式参考了本地文件系统针对路径的标准处理方式。`/../` 序列将删除，所以 `/hello/sir/../` 最终会变成 `/hello/`，`/./` 只需删除即可，因此 `/hello/./sir/` 将变成了 `/hello/sir/`。

为了 *防止* curl 将路径发送到服务器之前将类似的子串处理掉，因此有了 `--path-as-is` 选项。

Lame 试图欺骗服务器传递其 `/etc/passwd` 文件：

    curl --path-as-is https://example.com/../../etc/passwd
